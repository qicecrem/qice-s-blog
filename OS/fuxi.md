# 操作系统的目标和作用
目标:方便性,有效性,可扩充性,开放性
作用:作为用户与计算机硬件系统之间的接口;
    计算机系统资源的管理者;
    实现对计算机资源的抽象
# 发展历程
## 脱机I/O方式
优点 减少cpu空闲时间;提高I/O速度
发展动力 解决人机矛盾及cpu与I/O设备之间速度不匹配的矛盾
## 单道批处理系统
通常是把一批作业以脱机 方式输入到磁带上，并在系统中配上监督程序(Monitor)，在它的控制下使这批作业能一个 接一个地连续处理。其自动处理过程是：首先，由监督程序将磁带上的第一个作业装入内 存，并把运行控制权交给该作业。当该作业处理完成时，又把控制权交还给监督程序，再 由监督程序把磁带(盘)上的第二个作业调入内存。计算机系统就这样自动地一个作业一个作 业地进行处理，直至磁带(盘)上的所有作业全部完成，这样便形成了早期的批处理系统。由 于系统对作业的处理都是成批地进行的，且在内存中始终只保持一道作业，故称此系统为 单道批处理系统(Simple Batch Processing System)。
优点 作业自动过度,减少人工干预,提高cpu利用率
缺点 系统该资源得不到充分利用
发展动力 解决人机矛盾及cpu与I/O设备之间速度不匹配的矛盾
## 多道批处理系统
在该系统中，用户所提交的作业都先存放在外存上并排成一个队列，称为“后备 队列”；然后，由作业调度程序按一定的算法从后备队列中选择若干个作业调入内存，使它们共享 CPU 和系统中的各种资源。
优缺点:  资源利用率高,系统吞吐量大,平均周转时间长,无交互能力
## 分时操作系统
分时系统(Time Sharing System)与多道批处理系统之间有着截然不同的性能差别，它能很好地将一台计算机提供给多个用户同时使用，提高计算机的利用率。它被经常应用于查询系统中，满足许多查询用户的需要。简单来说就是把一个系统再多用户访问的时候给每个用户分一段时间在一段时间没有做完这个任务，也把时间给下一位用户直到循环回来继续执行。
特征   多路性,独立性,及时性,交互性
## 实时操作系统
所谓“实时”，是表示“及时”，而实时系统(Real Time System)是指系统能及时(或即时) 响应外部事件的请求，在规定的时间内完成对该事件的处理，并控制所有实时任务协调一 致地运行
1) 按任务执行时是否呈现周期性来划分
(1) 周期性实时任务。外部设备周期性地发出激励信号给计算机，要求它按指定周期循 环执行，以便周期性地控制某外部设备。 
(2) 非周期性实时任务。外部设备所发出的激励信号并无明显的周期性，但都必须联系 着一个截止时间(Deadline)。它又可分为开始截止时间(某任务在某时间以前必须开始执行) 和完成截止时间(某任务在某时间以前必须完成)两部分。

2) 根据对截止时间的要求来划分
(1) 硬实时任务(Hard real-time Task)。系统必须满足任务对截止时间的要求，否则可能 出现难以预测的结果。 
(2) 软实时任务(Soft real-time Task)。它也联系着一个截止时间，但并不严格，若偶尔 错过了任务的截止时间，对系统产生的影响也不会太大。

# 操作系统四个基本特征
并发,共享,虚拟,异步
# 操作系统5大管理功能
处理机管理,存储器管理,设备管理,文件管理,接口管理
# 微内核
概念 微内核是一种精简的操作系统内核设计，其核心思想是将操作系统的基本功能（如进程管理、内存管理）保留在内核态，而将其他服务（如文件系统、设备驱动、网络协议栈）移到用户态运行。
结构 微内核的架构通常分为内核态（Kernel Space）和用户态（User Space）两部分
优点是组织结构清晰，方便维护;缺点是效率低
# 进程
程序：是静态的，就是个存放在磁盘里的可执行文件，就是一系列的指令集合。
进程（Process）的概念：是动态的，是程序的一次执行过程。同一程序多次执行会对应多个进程。是操作系统进行资源分配和调度的基本单位
特点 动态性,并发性,独立性,异步性,结构性
# 并发
并发（Concurrency） 是指在某一时间段内，多个任务（进程/线程）交替执行，宏观上看似同时运行，微观上可能是分时复用CPU。
特点 宏观同时性,微观交替性,资源竞争,不确定性
# 临界资源
临界资源 是指一次仅允许一个进程（或线程）访问的共享资源，否则可能导致数据不一致或程序错误。
临界区 是进程中访问临界资源的代码段，必须保证其执行的原子性（不可中断）。
## 临界资源访问准则
空闲让进,忙则等待,有限等待,让权等待
# PCB
PCB是进程存在的唯一标志，当进程被创建时，操作系统为其创建PCB，当进程结束时，会回收其PCB。
# 线程
1. 定义
线程（Thread） 是进程内的一个执行单元，是CPU调度的基本单位。
一个进程可以包含多个线程，所有线程共享进程的资源（如内存、文件描述符）。
线程也被称为轻量级进程（Lightweight Process, LWP），因为创建、切换线程的开销比进程小。
特点 共享资源,轻量级,并发执行,独立性较弱
线程的实现可以分为两大类：
内核支持线程（KST, Kernel-Supported Threads）
用户级线程（ULT, User-Level Threads）
# 操作系统三级调度（高级、中级、低级）
##  高级调度（Long-Term Scheduling，作业调度）
决定哪些作业（Job）从外存（磁盘）调入内存，成为可执行的进程。
## 中级调度（Medium-Term Scheduling，内存调度）
管理进程的挂起（Suspend）和激活（Resume），控制内存中的进程数量。
通过交换（Swapping）将暂时不运行的进程移到磁盘（外存），腾出内存空间。
## 低级调度（Short-Term Scheduling，CPU调度）
决定就绪队列（Ready Queue）中的哪个进程获得CPU时间。
执行进程/线程的上下文切换（Context Switch）。
# 调度算法
## 先来先服务（FCFS，First Come First Serve）
非抢占式,对短作业不利
## 短作业优先（SJF，Shortest Job First）
最短的平均等待时间,对长作业不利,饥饿现象
## 